<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Final Report</title>

<script src="site_libs/header-attrs-2.28/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet" />
<link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="about.html">About Us</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Our Data
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="data_processing.html">Data Source &amp; Import</a>
    </li>
    <li>
      <a href="data_cleaning.html">Data Cleaning</a>
    </li>
    <li>
      <a href="variable_description.html">Data Dictionary</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    EDA
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="data_dist.html">Overall Distribution</a>
    </li>
    <li>
      <a href="final_eda.html">Demographic Distribution</a>
    </li>
  </ul>
</li>
<li>
  <a href="regression_riya.html">Regressions</a>
</li>
<li>
  <a href="final_report.html">Report</a>
</li>
<li>
  <a href="https://github.com/mayakrish85/t2d.github.io">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">

<div class="btn-group pull-right float-right">
<button type="button" class="btn btn-default btn-xs btn-secondary btn-sm dropdown-toggle" data-toggle="dropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu dropdown-menu-right" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Final Report</h1>

</div>


<div id="overview" class="section level2">
<h2>Overview</h2>
<p>In this project, we aim to analyze Type II Diabetes (T2D) in the U.S.
Our group’s inherent interest in public health and chronic disease
epidemiology prompts us to explore the context of T2D in this project.
Our analysis is informed by a non-scoping literature review to
understand previous analysis performed on the distribution and
prevalence of T2D in the United States. Most relevantly, our approach
and reasoning for the variables we chose for our EDA and regression
models are inspired by <a
href="https://www.sciencedirect.com/science/article/pii/S0889852921000463?via%3Dihub">Cicek
et al.</a> (2021) in their paper. In addition, all group members are
simultaneously enrolled in BIST8130: Biostatistical Methods I. As such,
we wanted to apply the statistical analysis skills and methods learned
in that class, to this project.</p>
</div>
<div id="motivation" class="section level2">
<h2>Motivation</h2>
<p>T2D is among the leading causes of mortality in the U.S. Through our
project, we want to consider potential the impact of covariates and
comorbidities through linear and multivariate regression models.</p>
</div>
<div id="related-work-literature-review" class="section level2">
<h2>Related Work (Literature Review)</h2>
</div>
<div id="initial-questions" class="section level2">
<h2>Initial Questions</h2>
<p>Through our analysis, we aim to answer the following questions:</p>
<ul>
<li>How prevalent is diabetes in the United States, as well as the
prevalence of Type 2 diabetes in particular?</li>
<li>Which lifestyle factors and comorbidities have the strongest
relationship with T2D? Is it justified to make generalizations about the
age of onset for Type 2 Diabetes?</li>
<li>By analyzing our data source, can we draw conclusions about how
comprehensive common T2D questionnaires are?</li>
</ul>
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<div id="source" class="section level3">
<h3>Source</h3>
<p>Our data comes from the Behavioral Risk Factor Surveillance System
(BRFSS) [<a
href="https://www.cdc.gov/brfss/annual_data/annual_2023.html"
class="uri">https://www.cdc.gov/brfss/annual_data/annual_2023.html</a>]
developed and aggregated by the US Centers for Disease and Prevention
(CDC). The data captures diabetes data as related to demographics,
individual behaviors, chronic health conditions, health-care access, and
use of preventive services. This longitudinal survey has been collecting
data since 1984, and was recently updated in September 2024. The data
was only available in an ‘xpt’ format. Hence, to make the data
accessible for import and analysis in R, the haven package was used to
read the xpt file and then write into an accessible csv format.</p>
<p>The Behavioral Risk Factor Surveillance System (BRFSS) was a
nationwide survey conducted by the Centers for Disease Control and
Prevention (CDC) to gather data on health-related risk behaviors,
chronic health conditions, and preventive health practices among adults
in the United States. The primary purpose of the BRFSS was to inform
public health policy, monitor health trends, and support the development
of health interventions. It was one of the largest continuously
conducted telephone health surveys in the world, providing critical
insights into the health status and needs of U.S. residents. The BRFSS
used Computer-Assisted Telephone Interviewing (CATI) systems to collect
data, with respondents selected through a probability sampling method to
ensure results are representative of the U.S. adult population. In 2023,
54 states and territories participated, though data from Pennsylvania
and Kentucky were excluded due to insufficient collection. Data
collection occurred year-round, spanning all 12 months, and interviews
were conducted seven days a week, both during the day and in the
evening, to maximize response rates. Interviews lasted an average of 17
minutes for the core questionnaire, with additional time required for
optional modules and state-specific questions. The survey incorporated
both landline and cellular samples, adjusting for demographic factors
such as age, gender, race/ethnicity, education, and marital status
through a process known as iterative proportional fitting or raking.
This methodology ensured that the BRFSS data was nationally
representative and reflective of the diverse U.S. population, making it
a valuable tool for understanding and addressing public health
challenges.</p>
</div>
<div id="import" class="section level3">
<h3>Import</h3>
<p>To clean the data, we first had to import the large XPT file and
select only the variables we were interested in analyzing related to
diabetes. We selected variables after conducting a thorough literature
review to identify which factors and comorbidities were the most
relevant to a diabetes (and specifically T2D) diagnosis.</p>
</div>
<div id="cleaning" class="section level3">
<h3>Cleaning</h3>
<p>For the coding process of cleaning the data, we recoded variables
with responses such as “refusal”, “don’t know/not sure”, and missing as
NA. Binary variables were converted from (0,1) to (No, Yes). Other
variables, including binary variables, were also re-coded as factor
variables. We identified three main variables for analysis related to
diabetes: <code>has_diabetes</code>, <code>diab_type</code>, and
<code>eval_type</code>.</p>
<p><strong><code>has_diabetes</code></strong>: This variable describes
the people in the survey who responded after being asked the question,
“Have you ever been told you had diabetes?” Overall, 432,339 people
responded to this question.</p>
<p><strong><code>diab_type</code></strong>: This variable comes directly
from the dataset, where respondents who were diabetic per the
<code>has_diabetes</code> question were asked “What type of diabetes do
you have?” Only 22,027 participants answered this question out of the
59,786 people who responded that they had diabetes. Since there are over
60% of respondents unaccounted for, this measure may not tell us enough
about risk factors or comorbidities of T2D in the general
population.</p>
<p><strong><code>eval_type</code></strong>: Due to the missing data for
<code>diab_type</code>, we created another variable
<code>eval_type</code> that describes the person’s diabetes type by
using other demographic information from this dataset. We used <a
href="https://www.cdc.gov/pcd/issues/2019/19_0109.htm">this paper</a>
published by the CDC that used the same BRFSS survey from 2014 to
classify T2D diagnosis. In this paper, they classified a survey
respondent to have type II diabetes if the respondent was older than 30,
not pregnant, and answered yes to the question “Have you ever been told
you have diabetes?”</p>
<p>We then classified a respondent to have type II diabetes if the
respondent was older than 30, not pregnant, and were diabetic as per the
<code>has_diabetes</code> question. We classified a respondent to have
type I diabetes if the respondent was younger than 30 and were diabetic
as per the <code>has_diabetes</code> question.</p>
<p>The final cleaned dataset <code>cleaned_diabetes_data.csv</code>
contains 40 columns and 433,323 rows. To access this data, users can
find it in our GitHub repo at
<code>data/cleaned_diabetes_data.csv</code>. A metadata table with a
description and coding of each variable in the cleaned dataset can be
found in Appendix A.</p>
</div>
</div>
<div id="exploratory-analysis" class="section level2">
<h2>Exploratory analysis</h2>
<div id="overall-distribution" class="section level3">
<h3>Overall distribution</h3>
<p>We started by examining the overall distributions of each of our
outcome variables.</p>
<p><img src="data_dist_files/figure-html/unnamed-chunk-2-1.png" /></p>
<p>Of the 433,323 respondents, 59,786 are actually diabetic.</p>
<p><img src="data_dist_files/figure-html/unnamed-chunk-4-1.png" /></p>
<p><img src="data_dist_files/figure-html/unnamed-chunk-6-1.png" /></p>
<p>Of the people that said they had diabetes, we have just over ~20K
responses regarding the type of diabetes they have, and over ~410K
missing responses. Because of this missing data, we more heavily relied
on the evaluated type. However, it is worth noting that we are actively
excluding people diagnosed with type I diabetes after the age of 30 (as
shown below).</p>
<p><img src="data_dist_files/figure-html/onset_eval-1.png" /></p>
<p><img src="data_dist_files/figure-html/report_diab-1.png" /></p>
<p>In the graphs above, we could conclude that the overall distribution
is relatively normal related to the age of onset of diabetes diagnosis.
However, if we just consider real-time age and diabetes, we see a
different distribution. In the graph below, we see that as age
increases, the count of diabetes cases increase (using the has_diabetes
variable), with the highest number of cases being in the 65-74 age
group. The number of diabetes cases decrease slightly after age 74.</p>
<p><img src="data_dist_files/figure-html/age_diab-1.png" /></p>
</div>
<div id="demographics" class="section level3">
<h3>Demographics</h3>
<p>We also explored other demographic information in relation to
diabetes diagnosis. We compared each factor to one of our three outcome
variables, has_diabetes, diab_type, and eval_type, to identify the
overarching relationship between specific demographics and diabetes,
along with similarities and differences between the various kinds of
diagnosis.</p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-6-1.png" /></p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-7-1.png" /></p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-8-1.png" /></p>
<p>People with better health and physical activity practices have fewer
diabetes diagnoses. Between type I and type II diagnoses, physical
activity is about the same, based on the reported type. On the other
hand, type II diagnoses have a higher percentage of inactive people,
based on the evaluated type.</p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-22-1.png" /></p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-23-1.png" /></p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-24-1.png" /></p>
<p>People with (at least) a college degree make up a larger proportion
of the sample of people who are not diabetic than the sample of people
who are diabetic. Surprisingly, accordiing to the evaluated type
variable, a significantly larger percentage of people who graduated high
school have type I diabetes, compared to the percentage of people who
graduated high school with type II diabetes.</p>
</div>
<div id="related-factors" class="section level3">
<h3>Related Factors</h3>
<p>We also explored related factors to diabetes diagnosis, one of which
being blood pressure.</p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-61-1.png" /></p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-62-1.png" /></p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-63-1.png" /></p>
<p>People with low/normal blood pressure were represented much more in
the group of people who are diabetic compared to any other group. There
is a slight increase in high blood representation percentage in the type
I group compared to the type II group in the reported cases, but that is
heightened in comparing the evaluated type variable.</p>
<p>We originally explored high blood sugar and A1C checks in this
section, but decided not to publish those models because only people
with diabetes (as per has_diabetes) were asked this question, severely
skewing our results.</p>
</div>
<div id="comorbidities" class="section level3">
<h3>Comorbidities</h3>
<p>Finally, we explored comorbidities known to be shared with diabetes
diagnosis.</p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-26-1.png" /></p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-27-1.png" /></p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-28-1.png" /></p>
<p>A larger proportion of people with diabetes also have kidney disease
than other groups. The reported type shows no significant difference in
diagnosis across type of diabetes, but the evaluated type shows that
people with kidney disease are more highly represented in the group with
type II diabetes.</p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-34-1.png" /></p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-35-1.png" /></p>
<p><img src="final_eda_files/figure-html/unnamed-chunk-36-1.png" /></p>
<p>Blindness is slightly more common in people who have diabetes
compared to people who are not diabetic, but we see some opposition
between reported and evaluated type I and II diabetes status.</p>
</div>
</div>
<div id="additional-analysis" class="section level2">
<h2>Additional analysis</h2>
</div>
<div id="discussion" class="section level2">
<h2>Discussion</h2>
</div>
<div id="limitations" class="section level2">
<h2>Limitations</h2>
<p>As with any analysis, our project too, faced limitations because of
restrictions in our data source.</p>
<p>Despite being conducted by the U.S. CDC, the data was not as
comprehensive as we had hoped and were limited by the narrow focus of
some survey questions and a lack of strict follow-up among participants.
No questions related to family history or environmental exposures were
asked, which would be relevant to better being able to diagnose
respondents with type I diabetes.</p>
<p>Taking a closer look at our data, we are missing ~40,000 rows related
to the specific type of diabetes diagnosis (difference between
has_diabetes == Diabetes and diab_type != NA). Because of this, we felt
the need to create a new variable that could better represent our
population. We were not sure imputation would be the best way to handle
this because of the large amount of missing data, so we decided to
depend on another data source to create a justifiable evaluated
variable. However, the constraints of the variable that were defined in
our literature review caused us to exclude any respondents above the age
of 30 who were diagnosed with type I diabetes as per the reported type
variable. Therefore, the distribution of the evaluated type is skewed
heavily towards type II diagnosis for certain age groups and
demographics. Moving forward, the constraints on the onset can be a
major limitation for all of our analysis.</p>
<p>In addition, the metrics of some questions were unclear and it was
unknown how many participants and/or what subgroup of participants were
asked a question. For example, inquiries regarding high blood sugar and
A1C were only asked to people that did not have diabetes. Only people
that were reported diabetic were asked if they had received an A1C-level
check within the last 12 months. In addition, for the small subset of
participants who were questioned, they were not mandated to report their
specific A1C result.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("hide" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
